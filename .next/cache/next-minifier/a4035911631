{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{0:function(e,n,t){t(\"GcxT\"),e.exports=t(\"nOHt\")},\"1TCz\":function(e,n,t){\"use strict\";t.r(n);var a=t(\"q1tI\"),l=t.n(a),u=(t(\"iOjB\"),t(\"o0o1\")),o=t.n(u),r=l.a.createElement,i=function(e){var n=e.username,t=e.handleUsernameChange,a=e.roomName,l=e.handleRoomNameChange,u=e.handleSubmit;return r(\"form\",{onSubmit:u},r(\"h2\",null,\"Entrez dans la salle\"),r(\"div\",null,r(\"label\",{htmlFor:\"name\"},\"Pseudo:\"),r(\"input\",{type:\"text\",id:\"field\",value:n,onChange:t,required:!0})),r(\"div\",null,r(\"label\",{htmlFor:\"room\"},\"Salle:\"),r(\"input\",{type:\"text\",id:\"room\",value:a,onChange:l,required:!0})),r(\"button\",{type:\"submit\"},\"Submit\"))},c=l.a.createElement,s=function(){var e=Object(a.useState)(\"\"),n=e[0],t=e[1],l=Object(a.useState)(\"\"),u=l[0],r=l[1],s=Object(a.useState)(null),m=s[0],p=s[1],d=Object(a.useCallback)((function(e){t(e.target.value)}),[]),h=Object(a.useCallback)((function(e){r(e.target.value)}),[]),f=Object(a.useCallback)((function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,o.a.awrap(fetch(\"/api/video/token\",{method:\"POST\",body:JSON.stringify({identity:n,room:u}),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return e.json()})));case 3:t=a.sent,p(t.token);case 5:case\"end\":return a.stop()}}),null,null,null,Promise)}),[n,u]);Object(a.useCallback)((function(e){p(null)}),[]);return m?c(\"div\",null,c(\"p\",null,\"Username: \",n),c(\"p\",null,\"Room name: \",u),c(\"p\",null,\"Token: \",m)):c(i,{username:n,roomName:u,handleUsernameChange:d,handleRoomNameChange:h,handleSubmit:f})},m=l.a.createElement,p=function(){return m(\"div\",{className:\"app\"},m(\"header\",null,m(\"h1\",null,\"Petit live\")),m(\"main\",null,m(s,null)),m(\"footer\",null,m(\"p\",null,\"Fait avec\",\" \",m(\"span\",{role:\"img\",\"aria-label\":\"React\"},\"\\u269b\"),\" \",\"par \",m(\"a\",{href:\"https://julien-juge.com\"},\"Julien J.\"))))},d=l.a.createElement;n.default=function(e){var n=e.pageProps;return d(l.a.Fragment,null,d(p,n))}},GcxT:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/_app\",function(){return t(\"1TCz\")}])},iOjB:function(e,n,t){}},[[0,0,1,2]]]);"}