{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Peer from 'simple-peer';\n\nvar VideoCall = function VideoCall() {\n  var _this = this;\n\n  _classCallCheck(this, VideoCall);\n\n  _defineProperty(this, \"peer\", null);\n\n  _defineProperty(this, \"init\", function (stream, initiator) {\n    _this.peer = new Peer({\n      initiator: initiator,\n      stream: stream,\n      trickle: false,\n      reconnectTimer: 1000,\n      iceTransportPolicy: 'relay',\n      config: {\n        iceServers: [{\n          urls: process.env.REACT_APP_STUN_SERVERS.split(',')\n        }, {\n          urls: process.env.REACT_APP_TURN_SERVERS.split(','),\n          username: process.env.REACT_APP_TURN_USERNAME,\n          credential: process.env.REACT_APP_TURN_CREDENCIAL\n        }]\n      }\n    });\n    return _this.peer;\n  });\n\n  _defineProperty(this, \"connect\", function (otherId) {\n    _this.peer.signal(otherId);\n  });\n};\n\nexport { VideoCall as default };","map":{"version":3,"sources":["/Users/julienjuge/DEVPERSO/video-chat/helpers/simple-peer.js"],"names":["Peer","VideoCall","stream","initiator","peer","trickle","reconnectTimer","iceTransportPolicy","config","iceServers","urls","process","env","REACT_APP_STUN_SERVERS","split","REACT_APP_TURN_SERVERS","username","REACT_APP_TURN_USERNAME","credential","REACT_APP_TURN_CREDENCIAL","otherId","signal"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,aAAjB;;IAEqBC,S;;;;;gCACV,I;;gCACA,UAACC,MAAD,EAASC,SAAT,EAAuB;AAC1B,IAAA,KAAI,CAACC,IAAL,GAAY,IAAIJ,IAAJ,CAAS;AACjBG,MAAAA,SAAS,EAAEA,SADM;AAEjBD,MAAAA,MAAM,EAAEA,MAFS;AAGjBG,MAAAA,OAAO,EAAE,KAHQ;AAIjBC,MAAAA,cAAc,EAAE,IAJC;AAKjBC,MAAAA,kBAAkB,EAAE,OALH;AAMjBC,MAAAA,MAAM,EAAE;AACJC,QAAAA,UAAU,EAAE,CACR;AAAEC,UAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,sBAAZ,CAAmCC,KAAnC,CAAyC,GAAzC;AAAR,SADQ,EAER;AACIJ,UAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYG,sBAAZ,CAAmCD,KAAnC,CAAyC,GAAzC,CADV;AAEIE,UAAAA,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,uBAF1B;AAGIC,UAAAA,UAAU,EAAEP,OAAO,CAACC,GAAR,CAAYO;AAH5B,SAFQ;AADR;AANS,KAAT,CAAZ;AAiBA,WAAO,KAAI,CAACf,IAAZ;AACH,G;;mCACS,UAACgB,OAAD,EAAa;AACnB,IAAA,KAAI,CAAChB,IAAL,CAAUiB,MAAV,CAAiBD,OAAjB;AACH,G;;;SAxBgBnB,S","sourcesContent":["import Peer from 'simple-peer'\n\nexport default class VideoCall {\n    peer = null \n    init = (stream, initiator) => {\n        this.peer = new Peer({\n            initiator: initiator,\n            stream: stream,\n            trickle: false,\n            reconnectTimer: 1000,\n            iceTransportPolicy: 'relay',\n            config: {\n                iceServers: [\n                    { urls: process.env.REACT_APP_STUN_SERVERS.split(',') },\n                    {\n                        urls: process.env.REACT_APP_TURN_SERVERS.split(','),\n                        username: process.env.REACT_APP_TURN_USERNAME,\n                        credential: process.env.REACT_APP_TURN_CREDENCIAL\n                    },\n                ]\n            }\n        })\n        return this.peer\n    }\n    connect = (otherId) => {\n        this.peer.signal(otherId)\n    }  \n} "]},"metadata":{},"sourceType":"module"}