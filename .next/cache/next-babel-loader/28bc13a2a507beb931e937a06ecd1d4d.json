{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Peer from \"simple-peer\";\n\nvar VideoCall = function VideoCall() {\n  var _this = this;\n\n  _classCallCheck(this, VideoCall);\n\n  _defineProperty(this, \"peer\", null);\n\n  _defineProperty(this, \"init\", function (stream, initiator) {\n    _this.peer = new Peer({\n      initiator: initiator,\n      stream: stream,\n      trickle: false,\n      reconnectTimer: 1000,\n      iceTransportPolicy: \"relay\",\n      config: {\n        iceServers: [{\n          urls: process.env.reactAppStunServers.split(\",\")\n        }, {\n          urls: process.env.reactAppTurnServers.split(\",\"),\n          username: process.env.reactAppTurnUsername,\n          credential: process.env.reactAppTurnCredential\n        }]\n      }\n    });\n    return _this.peer;\n  });\n\n  _defineProperty(this, \"connect\", function (otherId) {\n    _this.peer.signal(otherId);\n  });\n};\n\nexport { VideoCall as default };","map":{"version":3,"sources":["/Users/julienjuge/DEVPERSO/video-chat/helpers/simple-peer.js"],"names":["Peer","VideoCall","stream","initiator","peer","trickle","reconnectTimer","iceTransportPolicy","config","iceServers","urls","process","env","reactAppStunServers","split","reactAppTurnServers","username","reactAppTurnUsername","credential","reactAppTurnCredential","otherId","signal"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,aAAjB;;IAEqBC,S;;;;;gCACZ,I;;gCACA,UAACC,MAAD,EAASC,SAAT,EAAuB;AAC5B,IAAA,KAAI,CAACC,IAAL,GAAY,IAAIJ,IAAJ,CAAS;AACnBG,MAAAA,SAAS,EAAEA,SADQ;AAEnBD,MAAAA,MAAM,EAAEA,MAFW;AAGnBG,MAAAA,OAAO,EAAE,KAHU;AAInBC,MAAAA,cAAc,EAAE,IAJG;AAKnBC,MAAAA,kBAAkB,EAAE,OALD;AAMnBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,UAAU,EAAE,CACV;AAAEC,UAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBAAZ,CAAgCC,KAAhC,CAAsC,GAAtC;AAAR,SADU,EAEV;AACEJ,UAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYG,mBAAZ,CAAgCD,KAAhC,CAAsC,GAAtC,CADR;AAEEE,UAAAA,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,oBAFxB;AAGEC,UAAAA,UAAU,EAAEP,OAAO,CAACC,GAAR,CAAYO;AAH1B,SAFU;AADN;AANW,KAAT,CAAZ;AAiBA,WAAO,KAAI,CAACf,IAAZ;AACD,G;;mCACS,UAAAgB,OAAO,EAAI;AACnB,IAAA,KAAI,CAAChB,IAAL,CAAUiB,MAAV,CAAiBD,OAAjB;AACD,G;;;SAxBkBnB,S","sourcesContent":["import Peer from \"simple-peer\";\n\nexport default class VideoCall {\n  peer = null;\n  init = (stream, initiator) => {\n    this.peer = new Peer({\n      initiator: initiator,\n      stream: stream,\n      trickle: false,\n      reconnectTimer: 1000,\n      iceTransportPolicy: \"relay\",\n      config: {\n        iceServers: [\n          { urls: process.env.reactAppStunServers.split(\",\") },\n          {\n            urls: process.env.reactAppTurnServers.split(\",\"),\n            username: process.env.reactAppTurnUsername,\n            credential: process.env.reactAppTurnCredential\n          }\n        ]\n      }\n    });\n    return this.peer;\n  };\n  connect = otherId => {\n    this.peer.signal(otherId);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}